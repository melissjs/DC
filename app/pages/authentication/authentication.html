
<ion-header>
  <ion-navbar>
    <button [disabled]="!loggedIn" menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Check In Authentication</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>

<ion-card>
 <ion-list>

    <ion-item>
     <ion-icon name="md-locate" item-right></ion-icon> 
     <ion-label stacked>Set Geolocation:</ion-label>
     <ion-input type="text" [(ngModel)]="geoLocation" (click)="onChangegeoLocation(geoLocation)"></ion-input>
     </ion-item>

    <ion-item text-wrap>
      <div *ngIf="(pollingstationservice.getStation() != null) && (volunteerservice.getNewVolunteer() != null)">
	<ion-label style="margin-bottom: 15px" stacked>I  affirm that {{volunteerservice.getNewVolunteer().fullName}} and I (the authenticating volunteer) are volunteering together at precinct {{pollingstationservice.getStation().precinctNumber}} in {{pollingstationservice.getStation().city}}, {{pollingstationservice.getStation().state}}.</ion-label>
      </div>
      <div *ngIf="(pollingstationservice.getStation() == null) || (volunteerservice.getNewVolunteer() == null)">
	<div *ngIf="(volunteerservice.getNewVolunteer() == null)">
	<ion-label style="margin-bottom: 15px" stacked>I  affirm that OTHER VOLUNTEER and I (the authenticating volunteer) are volunteering together.</ion-label>
	</div>
	<div *ngIf="(volunteerservice.getNewVolunteer() != null)">
	<ion-label style="margin-bottom: 15px" stacked>I  affirm that {{volunteerservice.getNewVolunteer().fullName}} and I (the authenticating volunteer) are volunteering together.</ion-label>
	</div>
      </div>


      <ion-checkbox [(ngModel)]="affirm" (click)="onChangeAffirmation(affirm)" ></ion-checkbox>
    </ion-item>

    <ion-item>
      <ion-label stacked>Authenticating Volunteer Phone#:</ion-label>
      <!-- style="-webkit-text-security:disc;" -->

      <ion-input type="tel" [(ngModel)]="authenticatingVolunteerPhone" (change)="onChangeAuthenticatingVolunteerPhone(authenticatingVolunteerPhone)"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>Authenticating Volunteer Passcode:</ion-label>
      <ion-input type="password" [(ngModel)]="authenticatingVolunteerPasscode" (change)="onChangeAuthenticatingVolunteerPasscode(authenticatingVolunteerPasscode)"></ion-input>
    </ion-item>


</ion-list>
             
        </ion-card>

        <button type="submit" (click)="onSubmit()" block large>
         Submit 
         </button>

    <P style="color:red" *ngIf="errorMessage!=null">{{errorMessage}}</P>

</ion-content>
